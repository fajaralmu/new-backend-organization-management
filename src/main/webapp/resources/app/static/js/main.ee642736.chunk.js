(this["webpackJsonporganization-management"]=this["webpackJsonporganization-management"]||[]).push([[0],{21:function(e,t,n){},430:function(e,t,n){},431:function(e,t,n){},447:function(e,t,n){},448:function(e,t,n){},489:function(e,t,n){e.exports=n(713)},520:function(e,t,n){},521:function(e,t,n){},522:function(e,t,n){},523:function(e,t,n){},528:function(e,t,n){},529:function(e,t,n){},530:function(e,t,n){},531:function(e,t,n){},533:function(e,t,n){},534:function(e,t,n){},535:function(e,t,n){},536:function(e,t,n){},537:function(e,t,n){},538:function(e,t,n){},576:function(e,t,n){},66:function(e,t,n){},713:function(e,t,n){"use strict";n.r(t);n(137),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(222),n(224),n(225),n(226),n(227),n(228),n(229),n(231),n(232),n(164),n(236),n(237),n(96),n(241),n(242),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(172),n(266),n(268),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(174),n(285),n(286),n(287),n(288),n(290),n(291),n(292),n(293),n(294),n(296),n(298),n(300),n(301),n(303),n(304),n(305),n(306),n(307),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(175),n(326),n(327),n(328),n(329),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(177),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(120),n(356),n(357),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(420),n(421),n(423),n(424),n(425),n(426),n(428),n(185),n(502),n(510),n(515);var a=n(0),i=n.n(a),o=n(134),r=n.n(o),s=(n(520),n(2)),l=n(3),u=n(6),c=n(4),p=n(44),d=n(5),m=(n(521),n(522),n(21),n(430),n(9)),h=1,g=function(){var e;return e=(new Date).getUTCMilliseconds(),++h+"-"+e};function f(e){if(""==e||null==e)return"0";var t=""+e,n="";if(t.length>3){for(var a=0,i=t.length-1;i>0;i--)a++,n=t[i]+n,3==a&&(n="."+n,a=0);n=t[0]+n}else n=e;return n}var y=function(e,t){return null!=e&&e.length>0&&null!=e[t]},v=["January","Ferbuary","March","April","May","June","July","August","September","October","November","December"],b=function(e){function t(e){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=[];this.props.items&&(e=this.props.items);var t=this.props.width?this.props.width:"auto ",n=this.props.cols?this.props.cols:e.length,a=t.repeat(n),o="auto"==t?"1fr".repeat(n):t.repeat(n),r=1,s=1;return i.a.createElement("div",{className:"grid-container",style:Object(m.a)({},this.props.style,{verticalAlign:"middle",gridTemplateColumns:a,msGridColumns:o})},e.map((function(e){var t={msGridColumn:r,msGridRow:s};return++r>n&&(r=1,s++),i.a.createElement("div",{key:g(),style:t},e)})))}}]),t}(a.Component),E=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={active:!1},n.onClick=function(e){n.setState({active:!n.state.active}),n.props.onClick&&n.props.onClick(e)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e="toggle-outer",t="toggle-inner";return this.props.active&&0!=this.props.active||(e+=" outer-inactive",t+=" inner-inactive"),i.a.createElement("div",{style:{fontSize:"13px"}},i.a.createElement(b,{items:[i.a.createElement("div",{key:g(),onClick:this.onClick,className:e},i.a.createElement("div",{className:t})),i.a.createElement("span",{key:g()},this.props.text)]}))}}]),t}(a.Component),D=function(){return console.log('localStorage.getItem("debugMode")',localStorage.getItem("debugMode")),localStorage.getItem("debugMode")&&"true"==localStorage.getItem("debugMode")},C=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={debugMode:!0},n.handleClick=function(e){n.setState({debugMode:!n.state.debugMode}),1==n.state.debugMode?localStorage.setItem("debugMode","true"):localStorage.setItem("debugMode","false"),console.log('ccc localStorage.setItem("debugMode")',localStorage.getItem("debugMode")),n.props.app.componentDidMount()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=localStorage.getItem("debugMode"),t="true"==localStorage.getItem("debugMode");return i.a.createElement("div",{key:g(),className:"App-header"},this.props.title,i.a.createElement(E,{active:t,onClick:this.handleClick,text:"Debug Mode: "+e}))}}]),t}(a.Component),S=(n(523),n(84)),O="${basePath}"==document.getElementById("rootPath").value?"/organization-management":document.getElementById("rootPath").value,w="http://localhost:8080".concat(O),k=O,I=1==D()?w:k,j=I+"/res/img/transparent.png",N=function(e){function t(e){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t="",n=null;this.props.division&&(n=i.a.createElement("div",{className:"fill"},this.props.division.name," ")),null!=this.props.loggedUser&&(t=i.a.createElement("li",{id:"user-link"},i.a.createElement("div",{className:"fill"},"Welcome, "+this.props.loggedUser.name," "),n));var a=i.a.createElement("li",null,i.a.createElement("img",{src:j,style:{width:"90%"}})),o=[{icon:!0,url:j}];return null!=this.props.menus&&(o=this.props.menus),i.a.createElement("div",{className:"side-menu"},i.a.createElement("ul",{className:"menu-ul "},a,t,o.map((function(t){return"#"==t.url?i.a.createElement("li",{onClick:function(){return e.props.handleMenuCLick(t)},className:e.props.activeCode==t.code?"active":"",key:t.name,id:t.name},i.a.createElement(S.b,{key:t.name,className:"App-link",to:"#"},i.a.createElement("div",{className:"fill"},t.name))):i.a.createElement("li",{className:e.props.activeCode==t.code?"menu-active":"",key:t.name,id:t.name},i.a.createElement(S.b,{key:t.name,className:"App-link",to:t.url},i.a.createElement("div",{className:"fill"},t.name)))}))," "))}}]),t}(a.Component),_=(n(528),"logout"),M=(n(529),function(e){function t(e){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.title?this.props.title:"",t=this.props.description?this.props.description:"";return i.a.createElement("div",{className:"content-title"},i.a.createElement("h2",null,e),i.a.createElement("p",null,t))}}]),t}(a.Component)),x=I+"/res/img/mpi.png",T=function(e){function t(e){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.title="Mahasiswa Pencinta Islam",this.props.setMenuCode("home")}},{key:"render",value:function(){return i.a.createElement("div",{className:"section-container"},i.a.createElement(M,{title:"Welcome!",description:this.props.content}),i.a.createElement("div",{className:"article-content"},i.a.createElement("h2",null,"Admin Console Mahasiswa Pencinta Islam"),i.a.createElement("img",{src:x})))}}]),t}(a.Component),A=(n(530),n(66),function(e){function t(e){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e="action-button-wrapper";return this.props.className&&(e+=" "+this.props.className),i.a.createElement("div",{style:this.props.style?this.props.style:{},className:e},this.props.buttonsData.map((function(e){var t="action-button rounded";return null!=e.status&&(t=t.concat(" ").concat(e.status).concat(" ").concat(e.className)),i.a.createElement("button",{style:Object(m.a)({},e.style),className:t,key:"btnKey-"+g(),onClick:e.onClick},e.text?e.text:"")})))}}]),t}(a.Component)),L=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).handleEdit=function(){n.props.handleEdit&&n.props.handleEdit(n.props.identifier)},n.handleDelete=function(){n.props.handleEdit&&n.props.handleDelete(n.props.identifier)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.values;if(null==e)e=new Array;else{for(var t=new Array,n=0;n<e.length;n++){var a=e[n];if(this.props.CS||this.props.RS){var o=y(this.props.CS,n)?this.props.CS[n]:1,r=y(this.props.RS,n)?this.props.RS[n]:1;t.push({value:a,colspan:o,rowspan:r})}else t.push({value:a})}e=t}var s=this.props.style?this.props.style:{borderTop:"solid 1px gray"},l=i.a.createElement("td",{style:s},i.a.createElement(A,{buttonsData:[{id:"k-btn-edit-"+this.props.identifier,status:"warning",onClick:this.handleEdit,text:"Edit"},{id:"k-btn-dlt-"+this.props.identifier,status:"danger",onClick:this.handleDelete,text:"Delete"}]}));return 1==this.props.disabled&&(l=null,s=this.props.style?this.props.style:{}),i.a.createElement("tr",{style:s,key:g(),valign:this.props.valign},i.a.createElement(P,{values:e,trStyle:s}),l)}}]),t}(a.Component),P=function(e){return e.values.map((function(t){return i.a.createElement("td",{key:g(),id:g(),style:e.trStyle,rowSpan:t.rowspan,colSpan:t.colspan},t.value)}))},F=L,B=(n(531),function(e){function t(e){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=[];this.props.rows&&(t=this.props.rows);var n="table",a=this.props.style?this.props.style:{};return this.props.className&&(n+=" "+this.props.className),i.a.createElement("table",{style:a,className:n},i.a.createElement("tbody",null,t.map((function(t){var n=0!=t.disabled;return i.a.createElement(F,{style:t.style,valign:e.props.valign?e.props.valign:"top",RS:t.RS,identifier:t.identifier?t.identifier:"0000",handleEdit:t.handleEdit,handleDelete:t.handleDelete,CS:t.CS,values:t.values?t.values:[],key:g(),disabled:n})}))))}}]),t}(a.Component)),U=I+"/res/img/asp.png",K=function(e){function t(e){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.title="About Us",this.props.setMenuCode("about")}},{key:"render",value:function(){return i.a.createElement("div",{className:"section-container about-section  "},i.a.createElement(M,{title:"About Us"}),i.a.createElement("div",{className:" abount-content",style:{padding:"5px",width:"90%",fontFamily:"Consolas",margin:"5px"}},i.a.createElement(B,{rows:[{values:["Name","Organization Management Admin"]},{values:["Version","1.0.0"]},{values:["Description","managing your organization activities effectively"]}]}),i.a.createElement("h2",null,"Powered By"),i.a.createElement("img",{style:{width:"50%"},src:U})))}}]),t}(a.Component),V=n(23),R=k+"/api/",q=w+"/api/",Y=function(){return 1==D()?q:R},G=function(){return Y()+"management/"},W=function(){return Y()+"account/"},J=function(){return Y()+"admin/"},H=function(e,t){return t.startLoading(),{type:"get_entity",payload:{entity:e.entityName,filter:{limit:e.limit,page:e.page,fieldsFilter:e.fieldsFilter,orderBy:e.orderBy,orderType:e.orderType}},meta:{type:"get_entity",url:G().concat("get"),app:t,entityConfig:e.entityConfig}}},z=n(33),Z=(n(533),function(e){return document.getElementById(e)});var $=function(e,t){e=Math.ceil(e),t||(t=0);var n=new Array,a=t-3<0?0:t-3,i=t+3>e?e:t+3;0!=a&&n.push({text:1,value:0});for(var o=a;o<i;o++)n.push({text:o+1,value:o});return i!=e&&n.push({text:e,value:e-1}),n},Q=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).handleKeyup=function(e){n.props.onKeyUp&&n.props.id&&n.props.onKeyUp(e.target.value,n.props.id)},n.onChange=function(e){"date"==n.props.type&&n.handleKeyup(e),n.props.id&&"checkbox"==n.props.type&&n.props.onChange(n.props.id),n.props.onChange&&n.props.id&&n.props.onChange()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.value&&this.props.id&&(Z(this.props.id).value=this.props.value)}},{key:"render",value:function(){var e=this.props.type?this.props.type:"text",t=this.props.placeholder?this.props.placeholder:"",n=this.props.name?this.props.name:"",a=this.props.style?this.props.style:{},o=i.a.createElement("input",{style:a,className:"rounded",name:n,key:"KEY-input-"+this.props.id,id:this.props.id,type:e,onKeyUp:this.handleKeyup,placeholder:t,checked:this.props.checked,onChange:this.onChange});return 1==this.props.disabled&&(o=i.a.createElement("input",{style:a,className:"rounded",onChange:this.onChange,name:n,key:"KEY-input-"+this.props.id,checked:this.props.checked,id:this.props.id,type:e,onKeyUp:this.handleKeyup,placeholder:t,disabled:!0})),"textarea"==e&&(o=i.a.createElement("textarea",{style:a,className:"rounded",name:n,key:"KEY-input-"+this.props.id,id:this.props.id,type:e,onKeyUp:this.handleKeyup,placeholder:t,onChange:this.onChange,checked:this.props.checked})),i.a.createElement("div",{className:"input-field "},o,"radio"==this.props.type||"checkbox"==this.props.type?i.a.createElement("span",{style:{fontSize:"0.9em"}},this.props.text," "):"")}}]),t}(a.Component),X=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).onClick=function(){n.props.onClick&&n.props.onClick()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e="action-button rounded";return null!=this.props.status&&(e=e.concat(" ").concat(this.props.status)),i.a.createElement("div",null,i.a.createElement("button",{style:Object(m.a)({},this.props.style),className:e,id:this.props.id,onClick:this.onClick},this.props.text))}}]),t}(a.Component),ee=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).onClick=function(){n.props.onClick&&n.props.onClick()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.style?this.props.style:{},t="input-field ";return this.props.className&&(t+=" "+this.props.className),this.props.onClick&&(t+=" clickable"),i.a.createElement("div",{onClick:this.onClick,style:e,className:t},i.a.createElement("label",null,this.props.text))}}]),t}(a.Component),te=(n(534),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={timer:130,intervalId:0},n.update=function(){n.state.timer<0&&clearInterval(n.state.intervalId),console.log("tick"),n.setState({timer:n.state.timer-1}),n.state.timer<0&&n.props.endMessage&&n.props.endMessage()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(1==this.props.withTimer){var e=setInterval(this.update,1,null);this.setState({intervalId:e})}}},{key:"render",value:function(){var e="message message-"+this.props.type,t=this.props.text,n={};1==this.props.realtime&&(n={width:Math.floor(this.props.progress)+"%",textAlign:"left"},e+=" rounded",t=i.a.createElement("span",{className:"loader"},this.props.progress+"%"));return i.a.createElement("div",{style:n,className:e},t)}}]),t}(a.Component)),ne=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={username:null,password:null,showMessageLoginFailed:!1},n.handleUsername=function(e){n.setState({username:e})},n.handlePassword=function(e){n.setState({password:e})},n.doLogin=function(){console.log("u:",n.state.username,",p:",n.state.password),n.props.doLogin(document.getElementById("username-field").value,document.getElementById("password-field").value,n.props.main)},n.endMessage=function(){n.setState({showMessageLoginFailed:!1})},n.validateLoginStatus=function(){1==n.props.loginStatus&&n.props.history.push("/dashboard")},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.validateLoginStatus(),this.props.setMenuCode("login"),document.title="Login"}},{key:"componentDidUpdate",value:function(){this.validateLoginStatus()}},{key:"render",value:function(){var e=i.a.createElement("p",null,this.props.loginFailed?i.a.createElement(te,{endMessage:this.endMessage,type:"failed",text:"Login Failed"}):"");return i.a.createElement("div",{className:"section-container"},i.a.createElement(M,{title:"Login Page"}),e,i.a.createElement("div",{className:"login-container"},i.a.createElement(ee,{text:"Username"}),i.a.createElement(Q,{id:"username-field",onKeyUp:this.handleUsername}),i.a.createElement(ee,{text:"Password"}),i.a.createElement(Q,{id:"password-field",type:"password",onKeyUp:this.handlePassword}),i.a.createElement(X,{style:{margin:"5px"},id:"btn-login",status:"submit",onClick:this.doLogin,text:"Login"})))}}]),t}(a.Component),ae=Object(V.f)(ne),ie=(n(535),n(536),function(e){function t(e){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.tabsData?this.props.tabsData:[],t="5% "+"max-content ".repeat(e.length)+" auto",n="5% "+"max-content ".repeat(e.length)+" 1fr",a=0;return i.a.createElement("div",{className:"tab-container  grid-container",style:Object(m.a)({},this.props.style,{width:"auto",gap:"0px",msGridColumns:t,gridTemplateColumns:n})},i.a.createElement("div",{style:{width:"100%",borderBottom:"solid 1px lightgray",msGridColumn:1}}),e.map((function(e){return a++,i.a.createElement("div",{key:g(),className:e.active?"tab-element tab-item-active rounded-top":"tab-element tab-item",onClick:e.onClick?e.onClick:function(){},style:{msGridColumn:a}},e.text)})),i.a.createElement("div",{style:{width:"100%",borderBottom:"solid 1px lightgray",msGridColumn:1+e.length}}))}}]),t}(i.a.Component)),oe=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).handleOnChange=function(e){n.props.onChange?n.props.onChange(e.target.value):console.log("Not supported")},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.value&&(Z(this.props.id).value=this.props.value)}},{key:"render",value:function(){var e=[];return this.props.options&&(e=this.props.options),i.a.createElement("div",{className:"input-field "},i.a.createElement("select",{value:this.props.defaultValue?this.props.defaultValue:"",className:"rounded",id:this.props.id,onChange:this.handleOnChange},e.map((function(e){return i.a.createElement("option",{key:"opt_"+g(),value:e.value},e.text)}))))}}]),t}(a.Component),re=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).onDivisionListChange=function(e){n.setState({divisionId:e}),n.props.selectDivision(e)},n.divionOptions=function(){var e=[];return(n.props.divisions?n.props.divisions:[]).forEach((function(t){e.push({value:t.id,text:t.name})})),e},n.state={divisionId:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.division,t=this.state.divisionId;return this.props.division&&(t=this.props.division.id),i.a.createElement("div",null,i.a.createElement("p",null,"Login Sebagai"),i.a.createElement(oe,{defaultValue:t,onChange:this.onDivisionListChange,options:this.divionOptions()}),i.a.createElement("p",null,"Current Selection:"),i.a.createElement("p",null,e?e.name:""))}}]),t}(i.a.Component),se=(n(431),[{name:"Januari",day:31,text:"Januari",value:"1"},{name:"Februari",day:28,text:"Februari",value:"2"},{name:"Maret",day:31,text:"Maret",value:"3"},{name:"April",day:30,text:"April",value:"4"},{name:"Mei",day:31,text:"Mei",value:"5"},{name:"Juni",day:30,text:"Juni",value:"6"},{name:"Juli",day:31,text:"Juli",value:"7"},{name:"Agustus",day:31,text:"Agustus",value:"8"},{name:"September",day:30,text:"September",value:"9"},{name:"Oktober",day:31,text:"Oktober",value:"10"},{name:"November",day:30,text:"November",value:"11"},{name:"Desember",day:31,text:"Desember",value:"12"}]),le=(n(537),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).onClick=function(){n.props.onClick&&n.props.onClick()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={height:"auto"};this.props.icon&&(e={backgroundRepeat:"no-repeat",backgroundColor:"white",backgroundImage:"url("+this.props.icon+")",backgroundSize:"200px 160px"});var t="card ";return this.props.className&&(t+=" "+this.props.className),i.a.createElement("div",{onClick:this.onClick,style:this.props.style,className:t},i.a.createElement("div",{className:"card-title  ",style:e},this.props.title),i.a.createElement("div",{className:"card-content"},this.props.content))}}]),t}(a.Component)),ue=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={selectedMonth:(new Date).getMonth()+1,inputYearValue:(new Date).getFullYear(),activeId:"",selectedDay:0},n.calendarData=[],n.days=["Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Ahad"],n.month_now=7,n.begin={week:1,day:3,dayCount:31,info:""},n.begin_old={week:0,day:0,dayCount:0,info:""},n.year_now=1945,n.input_month=document.getElementById("input_month"),n.date_info=document.getElementById("date-info"),n.running_month=7,n.running_year=1945,n.filterDayId=0,n.filterMonthId=0,n.dateFormId=0,n.entity_Name=0,n.entity_Prop=0,n.dateFormId=0,n.setSelectedMonth=function(e){n.setState({selectedMonth:e}),n.props.refresh(e,n.year_now)},n.changeInputYear=function(e,t){n.setState({inputYearValue:e,activeId:t})},n.createTable=function(){for(var e=[],t=1;t<=6;t++)for(var a=1;a<=7;a++)e.push({day:a,week:t});n.calendarData=e},n.getEventByDate=function(e,t){n.props.getEventByDate(e,t)},n.getEventDetail=function(e){return n.props.getEventDetail?n.props.getEventDetail(e):[]},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.props.division&&(this.updateFields(),Z(this.state.activeId)&&Z(this.state.activeId).focus())}},{key:"componentDidMount",value:function(){this.loadCalendar()}},{key:"setDateElementId",value:function(e){this.dateFormId=e;var t="filter-"+e;this.filterDayId=t+".day",this.filterMonthId=t+".month",this.dateFormId=t+".year"}},{key:"updateFields",value:function(){this.input_month=document.getElementById("input_month"),this.date_info=document.getElementById("date-info")}},{key:"loadCalendar",value:function(){this.updateFields(),this.createTable(),this.begin_old=this.begin,this.begin=this.fillDay(this.month_now,!0,this.begin),this.input_month.value=(new Date).getMonth()+1,this.setCalendar(),this.setState({updated:new Date,inputYearValue:(new Date).getFullYear()})}},{key:"setCalendar",value:function(){this.doSetCalendar()}},{key:"doSetCalendar",value:function(){console.log("==start=="),this.running_month=this.input_month?this.input_month.value-1:(new Date).getMonth(),this.running_year=this.state.inputYearValue?this.state.inputYearValue:(new Date).getFullYear();var e=+Math.abs(this.running_year-this.year_now),t=0;t=e>0?11-this.month_now+(e>1?12*(e-1):0)+ +this.running_month:this.running_month-this.month_now;var n=!1;n=!(this.running_year-this.year_now>0)&&(this.running_year-this.year_now<0||!(this.running_month-this.month_now>0)),t=Math.abs(t);var a=this.month_now,i=t+this.month_now;if(!(t<=0)){if(n){if(n){i=this.month_now+(e>1?12*(e-1):0)+(11-this.running_month)+this.month_now;for(var o=this.month_now,r=i+1;r>=o+1;r--){if(a<0&&(a=11),this.month_now=a,this.prevMonth())break;a--}}}else for(var s=this.month_now+1;s<=i+1;s++){if(a>11&&(a=0),this.month_now=a,this.nextMonth())break;a++}this.fillInfo(),console.log("==end==")}}},{key:"fillInfo",value:function(){this.date_info&&(this.date_info.value=se[this.month_now].name+" "+this.year_now),this.refresh()}},{key:"detail",value:function(e,t,n){this.props.detail&&this.props.detail(e,t,n)}},{key:"prevMonth",value:function(){return this.setState({updated:new Date}),this.doPrevMonth(!1)}},{key:"doPrevMonth",value:function(e){this.month_now--,e&&this.running_month--,this.month_now<0&&(this.month_now=11,this.year_now--,e&&(this.running_month=11,this.running_year--));var t=this.findBegin(this.begin_old,this.begin_old.dayCount);this.begin_old={week:t.week,day:t.day,dayCount:t.dayCount};var n=this.fillDay(this.month_now,!1,t);return this.begin={week:n.week,day:n.day,dayCount:n.dayCount},this.refresh(),"NOW"==n.info}},{key:"nextMonth",value:function(){return this.doNextMonth(!1)}},{key:"refresh",value:function(){this.props.refresh&&this.props.refresh(this.month_now,this.year_now)}},{key:"doNextMonth",value:function(e){console.log("NEXT"),this.month_now++,e&&this.running_month++,this.month_now>11&&(this.month_now=0,this.year_now++,e&&(this.running_month=0,this.running_year++));var t=this.fillDay(this.month_now,!0,this.begin);return this.begin_old={week:this.begin.week,day:this.begin.day,dayCount:this.begin.dayCount},this.begin={week:t.week,day:t.day,dayCount:t.dayCount},this.refresh(),"NOW"==t.info}},{key:"findBegin",value:function(e,t){var n=this.month_now-1;n<0&&(n=11);for(var a=e.day,i=6,o={week:0,day:0,dayCount:se[n].day},r=t;r>=0;r--)a<=0&&(a=7,i--),a--;return o.week=i,o.day=a+1,o}},{key:"setElementByAttr",value:function(e,t,n){for(var a=0;a<this.calendarData.length;a++){var i=this.calendarData[a];i.week==e&&i.day==t&&((new Date).getDate()==n&&(new Date).getMonth()==this.month_now&&(new Date).getYear()+1900==this.year_now?(console.log("NOW",a),this.calendarData[a].now=!0):this.calendarData[a].now=!1,this.calendarData[a].text=n)}}},{key:"addNewEvent",value:function(e,t,n){var a=this.dateAcceptableForHtmlInput(e,t,n);document.getElementById(this.dateFormId).value=a}},{key:"dateAcceptableForHtmlInput",value:function(e,t,n){return n+"-"+this.addZero(t,10)+"-"+this.addZero(e,10)}},{key:"addZero",value:function(e,t){for(var n=new String(e),a=new String(t),i=n.length,o=a.length-i,r=1;r<=o;r++)n=new String("0").concat(n);return n}},{key:"clear",value:function(){for(var e=0;e<this.calendarData.length;e++)this.calendarData[e].text="";se[1].day=28+(+this.year_now%4==0?1:0)}},{key:"fillDay",value:function(e,t,n){this.clear();var a={week:n.week,day:n.day,dayCount:n.dayCount},i=(n.week,n.day,n.dayCount,a.week);a.week>1&&a.day>1&&(i=1);for(var o=a.day,r=this.running_month==e&&this.running_year==this.year_now,s=1;s<=se[e].day;s++)o>7&&(o=1,i++),r&&this.setElementByAttr(i,o,s),o++;return a.week=i>=5?2:1,a.day=o,a.dayCount=se[e].day,this.fillInfo(),r?(a.info="NOW",this.getEventByDate(this.running_month+1,this.running_year)):a.info="SOME-DAY",a}},{key:"render",value:function(){var e=this,t=this.state.inputYearValue,n=this.days.map((function(e){return{text:e,title:!0}}));this.calendarData.forEach((function(e){n.push(e)}));var a=n.map((function(t){if(null==t.text||""==t.text)return i.a.createElement("div",{key:g()});var n={width:"80%",minHeight:"150px",marginBottom:"15px"};if(1==t.title)return i.a.createElement("div",{key:g()},t.text);1==t.now&&(n=Object(m.a)({},n,{backgroundColor:"lightgreen"}));var a=e.getEventDetail(+t.text),o=0,r=a.map((function(e){return++o<=3?i.a.createElement("p",{key:"EVT_"+o},e.name):4==o?i.a.createElement(X,{key:g(),onClick:function(){},text:"more"}):null}));return i.a.createElement(le,{key:g(),style:n,title:t.text,onClick:function(){return e.detail(t.text,e.month_now,e.year_now)},content:r})})),o=se[this.month_now].name+" "+this.year_now;return i.a.createElement("div",{id:"calendar-wrapper"},i.a.createElement(b,{cols:3,style:{textAlign:"center",width:"400px"},items:[i.a.createElement(oe,{key:g(),id:"input_month",defaultValue:this.state.selectedMonth,onChange:this.setSelectedMonth,options:se}),i.a.createElement(Q,{key:g(),type:"number",id:"input_year",value:t,onKeyUp:this.changeInputYear}),i.a.createElement(X,{key:g(),onClick:function(t){return e.setCalendar()},text:"Go"}),i.a.createElement(X,{key:g(),onClick:function(t){return e.doPrevMonth(!0)},text:"Prev"}),i.a.createElement("input",{key:g(),value:o,disabled:!0,className:"form-control",id:"date-info"}),i.a.createElement(X,{key:g(),onClick:function(t){return e.doNextMonth(!0)},text:"Next"})]}),i.a.createElement("p",null),i.a.createElement("p",null),i.a.createElement(b,{cols:7,items:a}))}}]),t}(a.Component),ce="longDate",pe="date",de={title:"Badan Pengurus",entityName:"division",disabled:!0,id:"id",fieldNames:[{name:"name",lableName:"Nama"},{name:"description"},{name:"institution.name"}],formData:[{lableName:"Nama BPD",inputType:"text",name:"name"},{lableName:"Deskripsi BPD",inputType:"textarea",name:"description"},{lableName:"Division Insitusi",inputType:"dynamicDropdown",name:"institution.name",reffEntity:"Institution",idField:"id",displayField:"name"}]},me={title:"Divisi",entityName:"section",id:"id",fieldNames:[{name:"name"},{name:"division.name"}],formData:[{lableName:"Nama Divisi",inputType:"text",name:"name"},{lableName:"BPD",inputType:"dynamicDropdown",name:"division.name",reffEntity:"division",idField:"id",displayField:"name"}]},he={title:"Program Kerja",entityName:"program",id:"id",fieldNames:[{name:"name"},{name:"description"},{name:"section.name"}],formData:[{lableName:"Nama Proker",inputType:"text",name:"name"},{lableName:"Deskripsi Proker",inputType:"textarea",name:"description"},{lableName:"Nama Divisi",inputType:"dynamicDropdown",name:"section.name",reffEntity:"section",idField:"id",displayField:"name"}]},ge=[{text:"-Not Configured-",value:-1},{text:"Done",value:1},{text:"UnDone",value:0}],fe={title:"Kegiatan",entityName:"event",id:"id",fieldNames:[{name:"name"},{name:"info"},{name:"date",type:ce},{name:"location"},{name:"program.name"},{name:"participant"},{name:"done",type:"staticDropdown",options:ge}],formData:[{lableName:"Nama Kegiatan",inputType:"text",name:"name"},{lableName:"Waktu Kegiatan",inputType:"date",name:"date"},{lableName:"Info Kegiatan",inputType:"textarea",name:"info"},{lableName:"Lokasi Kegiatan",inputType:"text",name:"location"},{lableName:"Nama Program",inputType:"dynamicDropdown",name:"program.name",reffEntity:"program",idField:"id",displayField:"name"},{lableName:"Status Kegiatan",inputType:"staticDropdown",name:"done",options:ge},{lableName:"Peserta",inputType:"number",name:"participant"}]},ye={title:"Posisi",entityName:"position",id:"id",disabled:!0,fieldNames:[{name:"name"},{name:"description"}],formData:[{lableName:"Nama Posisi",inputType:"text",name:"name"},{lableName:"Deskripsi",inputType:"textarea",name:"description"}]},ve={title:"Anggota",entityName:"member",id:"id",fieldNames:[{name:"name"},{name:"position.name"},{name:"section.name"},{name:"description.name"}],formData:[{lableName:"Nama Anggota",inputType:"text",name:"name"},{lableName:"Nama Posisi",inputType:"dynamicDropdown",name:"position.name",reffEntity:"position",idField:"id",displayField:"name"},{lableName:"Nama Divisi",inputType:"dynamicDropdown",name:"section.name",reffEntity:"section",idField:"id",displayField:"name"},{lableName:"Deskripsi",inputType:"textarea",name:"description"}]},be=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={selectedMonth:(new Date).getMonth(),selectedYear:(new Date).getFullYear(),detailView:!1,detailEvents:[],selectedDay:0},n.createTable=function(){for(var e=[],t=1;t<=6;t++)for(var a=1;a<=7;a++)e.push({day:a,week:t});n.calendarData=e},n.getEventByDate=function(e,t){console.log("_________",e,t),n.setState({update:new Date,selectedMonth:e,selectedYear:t}),n.props.getEventByDate(e,t,n.props.app)},n.getEventDetail=function(e){var t=n.props.events,a=[];return t.forEach((function(t){new Date(t.date).getDate()==e&&a.push(t)})),a},n.detail=function(e,t,a){console.log("@DETAIL:",e,t,a);var i=n.getEventDetail(+e);n.setState({detailView:!0,detailEvents:i,selectedDay:e,selectedMonth:t,selectedYear:a})},n.refresh=function(e,t){n.setState({updated:new Date,selectedMonth:e,selectedYear:t})},n.addEvent=function(){var e=fe;n.props.getEntities({entityName:e.entityName,page:0,limit:10,entityConfig:e},n.props.app),n.props.addEventFromTimeline(n.state.selectedDay,n.state.selectedMonth+1,n.state.selectedYear),n.props.history.push("/management")},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.props.division}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;if(null==this.props.division)return i.a.createElement("h2",null,"Silakan Pilih Badan Pengurus MPI");var t,n,a=i.a.createElement("h2",null,"TimeLine ",this.props.division.name+" "+this.state.selectedYear),o=[];return 1==this.state.detailView?(this.state.detailEvents.forEach((function(e){var t=new Date(e.date).toString(),n="Done";0==e.done?n="Not Done":1!=e.done&&(n="Not Configured");var a=i.a.createElement("div",null,i.a.createElement("p",null,t),i.a.createElement(b,{cols:2,items:[i.a.createElement("label",null,"Location"),i.a.createElement("label",null,e.location),i.a.createElement("label",null,"Participant"),i.a.createElement("label",null,e.participant),i.a.createElement("label",null,"Status"),i.a.createElement("label",null,n),i.a.createElement("label",null,"Info"),i.a.createElement("label",null,e.info)]})),r=i.a.createElement(le,{title:e.name,content:a,style:{width:"90%"}});o.push(r)})),0==o.length&&(o=[i.a.createElement("div",null,"No Agenda.")]),i.a.createElement("div",null,a,i.a.createElement("p",null,"Detail in ",this.state.selectedDay+" "+(t=this.state.selectedMonth+1,n=this.state.selectedYear,null==t||null==n?"...":v[t-1]+" "+n)),i.a.createElement(X,{onClick:function(){e.setState({detailView:!1})},text:"Back"}),i.a.createElement(b,{width:"30%",cols:3,items:o}),i.a.createElement(X,{status:"success",onClick:function(){e.addEvent()},text:"Add Event"}))):i.a.createElement("div",{className:"container"},a,i.a.createElement(ue,{division:this.props.division,detail:this.detail,getEventByDate:this.getEventByDate,refresh:this.refresh,events:this.props.events,getEventDetail:this.getEventDetail}))}}]),t}(a.Component),Ee=Object(V.f)(Object(z.b)((function(e){return{events:e.managementState.events,division:e.userState.division}}),(function(e){return{getEntities:function(t,n){return e(H(t,n))},getEventByDate:function(t,n,a){return e(function(e,t,n){return n.startLoading(),{type:"GET_EVENTS_BY_DATE",payload:{year:t,month:e},meta:{app:n,type:"GET_EVENTS_BY_DATE",url:J().concat("event")}}}(t,n,a))},addEventFromTimeline:function(t,n,a){return e({type:"add_event_from_timeline",payload:{day:t,month:n,year:a},meta:{type:"add_event_from_timeline"}})}}}))(be)),De=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).getButtonsData=function(){return[{text:"Home",active:"home"==n.state.menu,onClick:function(){n.setMenuCode("home")}},{text:"Time Line",active:"timeline"==n.state.menu,onClick:function(){n.setMenuCode("timeline")}}]},n.state={menu:"home"},n.setMenuCode=function(e){n.setState({menu:e})},n.validateLoginStatus=function(){1!=n.props.loginStatus&&n.props.history.push("/login")},n.getDivisons=function(){n.props.getDivisons(n.props.app)},n.selectDivision=function(e){n.props.selectDivision(e,n.props.app)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.validateLoginStatus(),1==this.props.loginStatus&&(this.props.setMenuCode("dashboard"),document.title="Dashboard",this.getDivisons())}},{key:"componentDidUpdate",value:function(){this.validateLoginStatus()}},{key:"render",value:function(){var e=this.getButtonsData(),t=null;switch(this.state.menu){case"home":t=i.a.createElement(re,{division:this.props.division,selectDivision:this.selectDivision,divisions:this.props.divisions});break;case"timeline":t=i.a.createElement(Ee,{app:this.props.app})}return i.a.createElement("div",{className:"section-container"},i.a.createElement(M,{title:"Admin Page",description:"Welcome to the admin console"}),i.a.createElement("div",{className:"management-container"},i.a.createElement(ie,{tabsData:e}),t))}}]),t}(a.Component),Ce=Object(V.f)(Object(z.b)((function(e){return{divisions:e.userState.divisions,division:e.userState.division}}),(function(e){return{getDivisons:function(t){return e(function(e){return e.startLoading(),{type:"GET_DIVISIONS",payload:{},meta:{type:"GET_DIVISIONS",url:W().concat("divisions"),app:e}}}(t))},selectDivision:function(t,n){return e(function(e,t){return t.startLoading(),{type:"SET_DIVISION",payload:{divisionId:e},meta:{app:t,type:"SET_DIVISION",url:W().concat("setdivision")}}}(t,n))}}}))(De)),Se=(n(538),function(e){function t(e){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=(new Date).getFullYear();return i.a.createElement("div",{className:"App-footer"},"BPP MPI Divisi Media ",e+" powered by React Js "+i.a.version)}}]),t}(a.Component)),Oe=n(207),we=n.n(Oe),ke=(n(576),a.Component,function(e){var t="chat-item rounded paper-shadow  "+(1==e.message.admin?" admin ":"user"),n="";e.username&&(n=" ["+e.username+"]");var a=1==e.message.admin?"Admin":"You"+n,o=i.a.createElement("span",null,a,i.a.createElement("span",{style:{marginLeft:"11px",fontSize:"0.7em",float:"right"}},e.message.date));return i.a.createElement("div",{className:t},i.a.createElement(ee,{style:{fontSize:"0.8em",color:"black"},text:o}),i.a.createElement(ee,{text:e.message.text}))}),Ie=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={messages:null,username:null,activeId:null},n.sendChatMessage=function(){Z("input-msg").value?(n.props.sendChatMessage(Z("input-msg").value,n.state.username,n.props.app),Z("input-msg").value=""):alert("Message must not be null")},n.handleMessage=function(e){console.log("Responses handleMessage: ",e.code),console.log("LOCAL STORAGE:",localStorage.getItem("requestId")),e.code==localStorage.getItem("requestId")&&n.props.storeChatMessageLocally(e.entities)},n.changeUsername=function(e,t){n.setState({username:e,activeId:t})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.props.setMenuCode("chatroom"),document.title="Chat Room",this.props.getMessages(this.props.app),this.props.userAlias&&this.setState({username:this.props.userAlias})}},{key:"componentDidUpdate",value:function(){this.state.activeId&&Z(this.state.activeId)&&Z(this.state.activeId).focus()}},{key:"render",value:function(){this.props.userAlias&&this.props.userAlias;return i.a.createElement(M,{title:"under construction"})}}]),t}(a.Component),je=Object(z.b)((function(e){return{messages:e.shopState.messages,userAlias:e.shopState.userAlias}}),(function(e){return{sendChatMessage:function(t,n,a){return e(function(e,t,n){return n.startLoading(),{type:"send_message",payload:{value:e,username:t},meta:{app:n,type:"send_message",url:J().concat("sendmessage")}}}(t,n,a))},storeChatMessageLocally:function(t){return e(function(e){return{type:"store_message",payload:{entities:e},meta:{type:"store_message"}}}(t))},getMessages:function(t){return e(function(e){return e.startLoading(),{type:"GET_MESSAGE",payload:{},meta:{type:"GET_MESSAGE",app:e,url:J().concat("getmessages")}}}(t))}}}))(Ie),Ne=(n(447),n(448),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={hover:!1},n.handleClick=function(e){console.log("selected: ",e.target.innerHTML),n.props.onClick&&n.props.onClick(e)},n.onHover=function(e){n.props.onHover&&n.props.onHover(n.props.index)},n.unHover=function(e){n.setState({hover:!1})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{onMouseLeave:this.unHover,onMouseOver:this.onHover},this.props.text))}}]),t}(a.Component)),_e=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={focus:!0,hover:!1,hoverIndex:-1},n.handleKeyup=function(){n.props.onKeyUp&&n.props.id&&n.props.onKeyUp(document.getElementById(n.props.id).value,n.props.id)},n.onBlur=function(){console.log("blur"),n.setState({focus:!1,hover:!1})},n.onSelect=function(e,t){console.log("select value:",e),n.props.onSelect&&n.props.onSelect(e),n.props.id&&(document.getElementById(n.props.id).value=t)},n.onHover=function(e){n.state.hoverIndex!=e&&n.setState({hoverIndex:e})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.value&&this.props.id&&(document.getElementById(this.props.id).value=this.props.value)}},{key:"render",value:function(){var e=this,t=[],n="";this.props.dropdownList&&this.props.dropdownList.length>0&&(t=this.props.dropdownList,n=i.a.createElement("div",{className:"dropdown"},t.map((function(t,n){var a="dropdown-item",o="dropdown-item-"+n;return e.state.hoverIndex==n&&(a="dropdown-item-hovered"),i.a.createElement("div",{key:o,onClick:function(n){return e.onSelect(t.value,t.text)},className:a},i.a.createElement(Ne,{onClick:function(n){return e.onSelect(t.value,t.text)},onHover:e.onHover,index:n,text:t.text}))}))));var a=this.props.placeholder?this.props.placeholder:"";return i.a.createElement("div",{onMouseOver:function(){return e.setState({focus:!0})},onMouseLeave:this.onBlur,className:"dropdown-wrapper input-field"},i.a.createElement("input",{className:"rounded",onFocus:function(){return e.setState({focus:!0})},id:this.props.id,type:"text",onKeyUp:this.handleKeyup,placeholder:a}),n)}}]),t}(a.Component),Me=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={base64Data:null},n.onChange=function(e){!function(e,t,n){var a=new FileReader;a.readAsDataURL(e.files[0]),a.onload=function(){return n(a.result,t)},a.onerror=function(e){alert("Error Loading File")}}(e.target,Object(p.a)(n),(function(e,t){t.setState({base64Data:e})}))},n.removeImage=function(){n.props.removeImage&&n.props.removeImage()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.props.onChange&&this.props.onChange(this.state.base64Data)}},{key:"render",value:function(){var e=null;return this.state.base64Data&&(e=i.a.createElement("div",{className:"input-image-wrapper"},i.a.createElement("img",{src:this.state.base64Data,width:"60",height:"60"}))),this.props.value&&""!=this.props.value.trim()&&(e=i.a.createElement("div",{className:"input-image-wrapper"},i.a.createElement("img",{src:this.props.value,width:"60",height:"60"}),i.a.createElement(X,{text:"cancel",status:"danger",onClick:this.removeImage}))),i.a.createElement("div",{className:"input-field"},i.a.createElement("input",{accept:"image/*",onChange:this.onChange,type:"file",key:"input_file_"+g()}),e)}}]),t}(a.Component),xe=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).handleAddMoreFile=function(){n.props.addMoreImage&&n.props.addMoreImage()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=[];return this.props.inputFilesData&&(e=this.props.inputFilesData),i.a.createElement("div",null,e.map((function(e){var t=e.value;return i.a.createElement(Me,{key:g()+"_multiple_file_item",onChange:function(t){e.onChange&&e.onChange(t)},value:t&&t.includes("base64")?t:t?I+t:null,id:e.inputId,removeImage:function(){e.removeImage&&e.removeImage()}})})),i.a.createElement(X,{text:"add more",onClick:this.handleAddMoreFile}))}}]),t}(a.Component),Te=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={managedEntity:null,activeId:null,formValues:{},dropdownList:{},dropdownValues:{},selectedEntities:{},base64Data:{},base64DataMultiple:{},updated:new Date},n.validateEntity=function(e){var t=e;for(var a in e){console.log(a);var i=n.getFormDataItemStartWith(a);if(i)if("singleImage"==i.inputType)e[a]&&!e[a].includes("base64")&&(t[a]=null);else if("multipleImage"==i.inputType&&e[a]){for(var o=e[a].split("~"),r=new Array,s=0;s<o.length;s++){var l=o[s];if(n.state.base64DataMultiple[a]&&n.state.base64DataMultiple[a][s]){if(n.state.base64DataMultiple[a]&&n.state.base64DataMultiple[a][s]){var u=n.state.base64DataMultiple[a][s];r.push("{ORIGINAL>>"+l+"}"+u)}}else r.push("{ORIGINAL>>"+l+"}")}if(n.state.base64DataMultiple[a]&&n.state.base64DataMultiple[a].length>o.length)for(var c=o.length-1;c<n.state.base64DataMultiple[a].length;c++){var p=n.state.base64DataMultiple[a][c];p&&p.includes("base64")&&r.push(p)}r.length>0&&(t[a]=r.join("~"))}}return t},n.refresh=function(){n.setState({updated:new Date})},n.handleSubmit=function(){var e=!1;null!=n.props.managedEntity&&0==n.props.addNew?(console.log("WILL UPDATE(props):",n.props.managedEntity),n.props.updateEntity&&n.props.updateEntity(n.props.entityConfig.entityName,n.validateEntity(n.props.managedEntity),"update")):null!=n.props.managedEntity&&1==n.props.addNew&&(e=!0),null!=n.state.managedEntity&&(console.log("WILL SUBMIT NEW(state):",n.state.managedEntity),n.props.updateEntity&&n.props.updateEntity(n.props.entityConfig.entityName,n.validateEntity(n.state.managedEntity),"addNew")),e&&(console.log("WILL SUBMIT NEW(SPECIAL CASE):",n.props.managedEntity),n.props.updateEntity&&n.props.updateEntity(n.props.entityConfig.entityName,n.validateEntity(n.props.managedEntity),"addNew")),n.clear()},n.focusActiveId=function(){Z(n.state.activeId)&&Z(n.state.activeId).focus()},n.onKeyUp=function(e,t,a){n.setState({activeId:t}),n.updateSelectedEntity(a,e)},n.clear=function(){n.setState({managedEntity:null,dropdownList:{},dropdownValues:{},selectedEntities:{},base64Data:{},base64DataMultiple:{}}),n.props.removeManagedEntity&&n.props.removeManagedEntity()},n.populateDropdown=function(e,t,a){var i={entityName:e,fieldName:t.split(".")[1],fieldValue:a};n.props.getEntitiesWithCallback(i,Object(p.a)(n),(function(e,t){console.log("DATA FOR DROPDOWN: ",e)}))},n.onKeyUpDynamicDropdown=function(e,t,a,i){if(null!=e&&""!=e.trim()){var o={entityName:i,fieldName:"name",fieldValue:e};n.props.getEntitiesWithCallback(o,Object(p.a)(n),(function(e,t){console.log("LIST FOR DROPDOWN: ",e.entities),t.populateDropdownValues(e.entities,a)}));var r=n.state.dropdownValues;r[a]=e,n.setState({activeId:t,dropdownValues:r})}},n.populateDropdownValues=function(e,t){console.log("ENTITIES:",e);var a=new Array,i=n.getFormDataItem(t);if(null!=i){for(var o=0;o<e.length;o++){var r=e[o];a.push({value:r[i.idField],text:r[i.displayField],entity:r})}return n.state.dropdownList[t]=a,a}console.log("FORM DATA NOT FOUND")},n.getSelectedDropdownItem=function(e,t){if(null==n.state.dropdownList[t])return null;for(var a=n.state.dropdownList[t],i=0;i<a.length;i++){var o=a[i];if(o.value==e)return o}return null},n.getFormDataItem=function(e){if(n.props.entityConfig&&n.props.entityConfig.formData)for(var t=n.props.entityConfig.formData,a=0;a<t.length;a++){var i=t[a];if(i.name==e)return i}return null},n.addMoreImage=function(e){if(n.props.managedEntity){var t=n.props.managedEntity[e];t&&(t=t.trim()+"~DEFAULT.BMP",n.updateSelectedEntity(e,t))}else{var a,i=n.state.managedEntity;i?a=i[e]+"~":(i={},a=""),a=a.trim()+"DEFAULT.BMP",n.updateSelectedEntity(e,a)}},n.updateSelectedEntity=function(e,t){if(n.props.managedEntity)n.props.managedEntity[e]=t,n.refresh();else{var a=n.state.managedEntity;a||(a={}),a[e]=t,n.setState({managedEntity:a})}},n.getFormDataItemStartWith=function(e){if(n.props.entityConfig&&n.props.entityConfig.formData)for(var t=n.props.entityConfig.formData,a=0;a<t.length;a++){var i=t[a];if(i.name==e)return i;if(i.name.split(".").length>1&&i.name.split(".")[0]==e)return i}return null},n.handleRemoveImage=function(e){var t=n.state.base64Data;t[e]=null,n.updateSelectedEntity(e,null),n.setState({base64Data:t})},n.handleChangeBase64Image=function(e,t){var a=n.state.base64Data;a[t]=e,n.updateSelectedEntity(t,e),n.setState({base64Data:a})},n.handleChangeBase64MultipleImage=function(e,t,n){var a=this.state.base64DataMultiple,i=t.split(".")[0];a[i]||(a[i]=new Array),a[i][n]=e,this.setState({base64DataMultiple:a})},n.removeElementAtPosition=function(e,t){for(var n=new Array,a=0;a<e.length;a++)a!=t&&n.push(e[a]);return n},n.handleRemoveMultipleImage=function(e,t){var a=n.state.base64DataMultiple,i=e.split(".")[0];if(a[i]||(a[i]=new Array),a[i][t]=null,n.setState({base64DataMultiple:a}),n.props.managedEntity){var o=n.props.managedEntity[i];if(o){var r=n.removeElementAtPosition(o.split("~"),t);n.updateSelectedEntity(i,r.join("~"))}}else{var s=n.state.managedEntity;if(!s)return;var l=s[i];if(l){var u=n.removeElementAtPosition(l.split("~"),t);n.updateSelectedEntity(i,u.join("~"))}}},n.selectFromDynamicDropdown=function(e,t){console.log(t,":",e);var a=n.state.dropdownList,i=n.state.dropdownValues,o=n.state.selectedEntities,r=n.getSelectedDropdownItem(e,t);if(null!=r){i[t]=r.text,a[t]=[],o[t]=r.entity;var s=t.split(".")[0];n.updateSelectedEntity(s,r.entity),n.setState({activeId:null,dropdownList:a,dropdownValues:i,selectedEntities:o})}},n.handleStaticDropdownChange=function(e,t){n.updateSelectedEntity(t,e)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.focusActiveId()}},{key:"render",value:function(){var e=this,t=this.props.entityConfig&&this.props.entityConfig.formData?this.props.entityConfig.formData:[],n=null!=this.props.managedEntity||this.state.managedEntity,a=null;this.props.entityConfig.disabled||(a=i.a.createElement(A,{buttonsData:[{text:this.props.managedEntity&&0==this.props.addNew?"Update":"Add Record",onClick:this.handleSubmit,status:"success"},{text:"Clear",status:"warning",onClick:this.clear}]}));var o=i.a.createElement("div",{className:"entity-form  "},t.map((function(t){var a=t.name.split(".")[0],o=null;if(n){var r=e.props.managedEntity?e.props.managedEntity:e.state.managedEntity,s=t.name;if(s.split(".").length>1&&e.state.activeId!="input-for-"+t.name){var l=r[s.split(".")[0]],u=s.split(".")[1];o=l?l[u]:null}else o=r[s]}var c=null,p="input-for-"+t.name;if("dynamicDropdown"==t.inputType)null==o&&(o=e.state.dropdownValues[t.name]),c=i.a.createElement(_e,{onSelect:function(n){return e.selectFromDynamicDropdown(n,t.name)},id:p,placeholder:t.lableName,value:o,dropdownList:e.state.dropdownList[t.name],onKeyUp:function(n,a){e.onKeyUpDynamicDropdown(n,a,t.name,t.reffEntity)}});else if("staticDropdown"==t.inputType)console.log("STATIC DROPDOWN VALUE: ",o),c=i.a.createElement(oe,{defaultValue:new String(o),onChange:function(n){return e.handleStaticDropdownChange(n,t.name)},options:t.options,id:g()});else if("singleImage"==t.inputType)c=i.a.createElement(Me,{onChange:function(n){return e.handleChangeBase64Image(n,t.name)},value:o&&o.includes("base64")?o:o?I+o:null,id:p,removeImage:function(){return e.handleRemoveImage(t.name)}});else if("multipleImage"==t.inputType){for(var d=o?o.split("~"):[],m=new Array,h=function(n){var i=d[n];e.state.base64DataMultiple[a]&&e.state.base64DataMultiple[a][n]&&e.state.base64DataMultiple[a][n].includes("base64")&&(i=e.state.base64DataMultiple[a][n]),m.push({value:i,onChange:function(a){e.handleChangeBase64MultipleImage(a,t.name,n)},removeImage:function(){return e.handleRemoveMultipleImage(t.name,n)}})},f=0;f<d.length;f++)h(f);c=i.a.createElement(xe,{addMoreImage:function(){return e.addMoreImage(t.name)},inputFilesData:m})}else c=i.a.createElement(Q,{onKeyUp:function(n,a){e.onKeyUp(n,a,t.name)},id:p,value:o,type:t.inputType,placeholder:t.lableName});return i.a.createElement("div",{key:"FORM-FIELD-"+g()},i.a.createElement(ee,{text:t.lableName}),c)})),a);return i.a.createElement("div",{className:"entity-form-wrapper"},o)}}]),t}(a.Component),Ae=Object(V.f)(Object(z.b)((function(e){return{}}),(function(e){return{getEntitiesWithCallback:function(t,n,a){return e(function(e,t,n){t.props.app.startLoading();var a={type:"GET_ENTITY_WITH_CALLBACK",payload:{entity:e.entityName,filter:{limit:10,fieldsFilter:{},entryPoint:"inputField"}},meta:{type:"GET_ENTITY_WITH_CALLBACK",url:G().concat("get"),app:t.props.app,referer:t,callback:n}};return a.payload.filter.fieldsFilter[e.fieldName]=e.fieldValue,a}(t,n,a))}}}))(Te)),Le=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={filter:{},activeId:null,orderBy:null,orderType:null},n.handleDelete=function(e){window.confirm("Are your sure for deleting this entity?")&&console.log("Will DELETE: ",e)},n.handleEdit=function(e){n.getEntityById(e)},n.getHeaderNames=function(e){var t=[];if(null==e)n.props.backToDashboard();else for(var a=0;a<e.length;a++){var i=e[a].name;i.split(".").length>1&&(i=i.split(".")[0]),t.push(i.toUpperCase())}return t.push("OPTION"),t},n.goToPage=function(e,t){e>n.props.entitiesData.totalData/10&&(e=0),e<0&&(e=Math.ceil(n.props.entitiesData.totalData/10-1));var a=n.props.entityConfig;a.filter=n.state.filter,null!=t&&(a.orderBy=t.orderBy,a.orderType=t.orderType,n.setState({orderBy:t.orderBy,orderType:t.orderType})),n.props.getEntityInPage(a,e)},n.getEntityById=function(e){var t=n.props.entityConfig;null!=t?n.props.getEntityById(t.entityName,e):alert("Config Not Found!")},n.createNavButtons=function(){return $(n.props.entitiesData.totalData/10,n.props.currentPage)},n.setOrderBy=function(e,t){n.goToPage(n.props.currentPage,{orderBy:e,orderType:t})},n.createFilterInputs=function(e){var t=new Array;if(!e)return t;for(var a=function(a){var o=e[a],r=o.name;r.split(".").length>1&&(r=r.split(".")[0]);var s="";null!=n.state.filter[r]&&(s=n.state.filter[r]);var l=i.a.createElement(Q,{value:s,id:r+"_filter_id",onKeyUp:n.handleFilterChange,key:"input_field_"+g(),placeholder:r});if(o.type==pe||o.type==ce){var u=n.state.filter[r+"-day"],c=n.state.filter[r+"-month"],p=n.state.filter[r+"-year"],d=i.a.createElement(Q,{value:u,id:r+"-day_filter_id",onKeyUp:n.handleFilterChange,key:"input_field_d"+g(),placeholder:"day"}),m=i.a.createElement(Q,{value:c,id:r+"-month_filter_id",onKeyUp:n.handleFilterChange,key:"input_field_m"+g(),placeholder:"month"}),h=i.a.createElement(Q,{value:p,id:r+"-year_filter_id",onKeyUp:n.handleFilterChange,key:"input_field_y"+g(),placeholder:"year"});l=i.a.createElement(b,{width:"50px",items:[d,m,h]})}var f="asc";n.state.orderBy&&n.state.orderBy==r&&"asc"==n.state.orderType&&(f="desc");var y=i.a.createElement(X,{onClick:function(){n.setOrderBy(r,f)},text:f});t.push(i.a.createElement("div",{className:"filter-wrapper"},l,y))},o=0;o<e.length;o++)a(o);return t.push(""),t},n.handleFilterChange=function(e,t){var a=n.state.filter;null!=e&&""==e.trim()?a[t.split("_filter_id")[0]]=null:a[t.split("_filter_id")[0]]=e,n.setState({filter:a,activeId:t}),n.goToPage(n.props.currentPage)},n.focusActiveId=function(){Z(n.state.activeId)&&Z(n.state.activeId).focus()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.focusActiveId()}},{key:"render",value:function(){var e=this,t=this.props.entitiesData,n=this.props.entityConfig;if(console.log("1"),null==t||null==n)return i.a.createElement("h2",null,"Please Select One Of Menu");null==t.entities&&(t.entities=[]);for(var a=[{values:this.getHeaderNames(n.fieldNames),disabled:!0,style:{textAlign:"center",fontWeight:"bold"}},{values:this.createFilterInputs(n.fieldNames),disabled:!0}],o=t.entities,r=n.id,s=0;s<o.length;s++){for(var l=o[s],u=[],c=function(e){var t=n.fieldNames[e],a=t.name,o=!1;a.split(".").length>1&&(a=a.split(".")[0],o=!0);var r=l[a];if(t.type)if("number"==t.type)r=f(r);else if("link"==t.type)r=i.a.createElement("a",{href:r},i.a.createElement("u",null,r));else if("image"==t.type)r=i.a.createElement("img",{width:"60",height:"60",alt:I+r,src:I+r});else if("multipleImage"==t.type){var s=r.split("~")[0];r=i.a.createElement("img",{width:"60",height:"60",src:I+s})}else if(t.type==ce){var c=new Date(r).toDateString();r=i.a.createElement(ee,{text:c})}else if("staticDropdown"==t.type){t.options.forEach((function(e){e.value==r&&(r=e.text)}))}u.push(o&&r?r[t.name.split(".")[1]]:r)},p=0;p<n.fieldNames.length;p++)c(p);a.push({identifier:l[r],values:u,handleDelete:this.handleDelete,handleEdit:this.handleEdit,disabled:1==n.disabled})}var d=this.createNavButtons(),m=new Array;m.push({onClick:function(){e.goToPage(e.props.currentPage+-1)},text:"previous"});for(var h=function(t){d[t].onClick=function(){e.goToPage(d[t].value)},d[t].value==e.props.currentPage&&(d[t].status=" btn-active"),d[t].text=d[t].text,m.push(d[t])},g=0;g<d.length;g++)h(g);m.push({onClick:function(){e.goToPage(e.props.currentPage+1)},text:"next"});var y=i.a.createElement(A,{style:{backgroundColor:"white",paddingTop:"15px",margin:"10px"},buttonsData:m}),v=i.a.createElement("div",{className:"entity-list-container"},i.a.createElement(B,{style:{width:"100%",margin:"5px"},rows:a}));return i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement("div",{className:"entity-container"},i.a.createElement("div",{style:{backgroundColor:"white",margin:"10px"}}," "),y,i.a.createElement("div",{className:"entityForm"},i.a.createElement(Ae,{addNew:this.props.addNew,app:this.props.app,updateEntity:this.props.updateEntity,removeManagedEntity:this.props.removeManagedEntity,managedEntity:this.props.managedEntity,entityConfig:n})),v))}}]),t}(a.Component),Pe=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={entityList:[],currentPage:0,entityConfig:{entityName:"main"}},n.validateLoginStatus=function(){1!=n.props.loginStatus&&n.props.history.push("/login")},n.backToDashboard=function(){n.props.history.push("/dashboard")},n.refresh=function(){n.getEntityInPage(n.state.entityConfig,n.state.currentPage)},n.loadEntityManagement=function(e){n.props.removeManagedEntity(),n.setState({currentPage:0,entityConfig:e}),n.props.setEntityConfig(e),n.props.getEntities({entityName:e.entityName,page:0,limit:10,entityConfig:e},n.props.app)},n.gotoMainPage=function(){n.props.resetManagementPage(),n.setState({currentPage:0,entityConfig:{entityName:"main"}})},n.getEntityInPage=function(e,t){n.setState({currentPage:t});var a={entityName:e.entityName,page:t,limit:10,entityConfig:e,fieldsFilter:e.filter,orderBy:e.orderBy,orderType:e.orderType};console.log("REQUEST: ",a),n.props.getEntities(a,n.props.app)},n.checkIfCurrentMenuName=function(e){return n.state.entityConfig.entityName==e},n.getButtonsData=function(){return[{text:"#",active:n.checkIfCurrentMenuName("main"),onClick:function(){n.gotoMainPage()}},{text:"Badan Pengurus",active:n.checkIfCurrentMenuName("division"),onClick:function(){n.loadEntityManagement(de)}},{text:"Divisi",active:n.checkIfCurrentMenuName("section"),onClick:function(){n.loadEntityManagement(me)}},{text:"Program Kerja",active:n.checkIfCurrentMenuName("program"),onClick:function(){n.loadEntityManagement(he)}},{text:"Kegiatan",active:n.checkIfCurrentMenuName("event"),onClick:function(){n.loadEntityManagement(fe)}},{text:"Posisi",active:n.checkIfCurrentMenuName("position"),onClick:function(){n.loadEntityManagement(ye)}},{text:"Anggota",active:n.checkIfCurrentMenuName("member"),onClick:function(){n.loadEntityManagement(ve)}}]},n.updateEntity=function(e,t,a){if(window.confirm("Are you sure will update "+e+"?")){var i="addNew"==a;n.props.updateEntity({entityName:e,entity:t,isNewRecord:i},Object(p.a)(n),(function(e){console.log("WILL CALLBACK"),e.callbackHandleUpdate()}))}},n.getEntityById=function(e,t){n.props.getEntityById(e,t,n.props.app)},n.removeManagedEntity=function(){n.props.removeManagedEntity()},n.callbackHandleUpdate=function(){n.refresh(),n.removeManagedEntity()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.validateLoginStatus()}},{key:"componentWillMount",value:function(){this.validateLoginStatus(),document.title="Management",this.props.setMenuCode("management")}},{key:"render",value:function(){console.log("managedEntity: ",this.props.managedEntity);var e=this.props.entitiesData?this.props.entitiesData.entities:[];null==e&&(e=[]);var t=this.getButtonsData(),n=i.a.createElement("h2",null,"Content");return n=null==this.props.entitiesData.entityConfig?i.a.createElement("div",null,i.a.createElement("h2",null,"Management Page")):i.a.createElement(Le,{currentPage:this.state.currentPage,app:this.props.app,getEntityInPage:this.getEntityInPage,entityConfig:this.props.entitiesData.entityConfig,entitiesData:this.props.entitiesData,managedEntity:this.props.managedEntity,getEntityById:this.getEntityById,removeManagedEntity:this.removeManagedEntity,updateEntity:this.updateEntity,addNew:this.props.addNew,backToDashboard:this.backToDashboard}),i.a.createElement("div",{className:"section-container"},i.a.createElement(M,{title:"Management "+(this.state.entityConfig.title?this.state.entityConfig.title:this.props.entitiesData&&this.props.entitiesData.entityConfig?this.props.entitiesData.entityConfig.title:""),description:"master data management console"}),i.a.createElement("div",{className:"management-container"},i.a.createElement(ie,{tabsData:t}),n))}}]),t}(a.Component),Fe=Object(V.f)(Object(z.b)((function(e){return{entitiesData:e.managementState.entitiesData,managedEntity:e.managementState.managedEntity,addNew:e.managementState.addNew}}),(function(e){return{setEntityConfig:function(t){return e({type:"set-entity-config",payload:{entityConfig:t},meta:{type:"set-entity-config"}})},getEntities:function(t,n){return e(H(t,n))},getEntityById:function(t,n,a){var i=function(e,t,n){return n.startLoading(),{type:"get_entity_by_id",payload:{entity:e,filter:{limit:1,page:0,exacts:!0,contains:!1,fieldsFilter:{id:t}}},meta:{type:"get_entity_by_id",url:G().concat("get"),app:n}}}(t,n,a);e(i)},resetManagementPage:function(){return e({type:"reset_management_page",payload:{},meta:{type:"reset_management_page"}})},removeManagedEntity:function(){return e({type:"rm_mng_entity",payload:{},meta:{type:"rm_mng_entity"}})},updateEntity:function(t,n,a){return e(function(e,t,n){t.props.app.startLoading();var a={type:"update_entity",payload:{entity:e.entityName},meta:{type:"update_entity",url:e.isNewRecord?G().concat("add"):G().concat("update"),app:t.props.app,callback:n,referer:t}};return a.payload[e.entityName]=e.entity,a}(t,n,a))}}}))(Pe)),Be=k,Ue=w,Ke=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={menus:[],detailMode:!1,menuCode:"",loading:!1,loadingPercentage:0,requestId:null,enableShopping:!1,mainAppUpdated:new Date},n.setDetailMode=function(e){n.setState({detailMode:e})},n.setMenuCode=function(e){n.setState({menuCode:e})},n.refresh=function(){n.setState({mainAppUpdated:new Date})},n.setEnableShopping=function(e){n.setState({enableShopping:e})},n.handleMenuCLick=function(e){switch(e.code){case _:if(!window.confirm("Are you sure want to logout?"))return;n.props.performLogout(Object(p.a)(n))}},n.requestAppId=function(){n.props.requestAppId(Object(p.a)(n))},n.startLoading=function(e){n.setState({loading:!0,realtime:e})},n.endLoading=function(){n.setState({loading:!1,loadingPercentage:0})},n.handleMessage=function(e){Math.floor(e.percentage)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.props.requestId!=this.state.requestId&&(this.setState({requestId:this.props.requestId}),localStorage.setItem("requestId",this.props.requestId),this.props.refreshLogin(this.props.loginStatus)),console.log("App componentDidUpdate LOGIN STATUS: ",this.props.loginStatus)}},{key:"componentDidMount",value:function(){this.requestAppId(),this.setState({loadingPercentage:0})}},{key:"setMenus",value:function(){for(var e=this.props.menus,t=new Array,n=0;n<e.length;n++){var a=e[n];(this.state.enableShopping||"cart"!=a.code)&&(1!=this.props.loginStatus&&1==a.authenticated||t.push(a))}return t}},{key:"render",value:function(){var e=this,t=i.a.createElement(C,{app:this,title:"MPI Monitoring"});if(!this.state.requestId)return i.a.createElement("div",{key:g()},t,"Please wait..");var n=i.a.createElement(ae,{main:this,setMenuCode:this.setMenuCode,setDetailMode:this.setDetailMode,detailMode:this.state.detailMode,doLogin:this.props.performLogin,loginFailed:this.props.loginFailed,loginAttempt:this.props.loginAttempt,loginStatus:this.props.loginStatus}),a="";1==this.state.loading&&(a=i.a.createElement(te,{realtime:this.state.realtime,progress:this.state.loadingPercentage,text:"Please wait...",type:"loading"}));var o=this.setMenus();return i.a.createElement("div",{className:"App"},a,t,i.a.createElement("div",{id:"main-layout"},i.a.createElement("div",{id:"main-menu"},i.a.createElement(N,{loggedUser:this.props.loggedUser,division:this.props.division,handleMenuCLick:this.handleMenuCLick,activeCode:this.state.menuCode,menus:o})),i.a.createElement("div",{id:"main-content"},i.a.createElement(V.c,null,i.a.createElement(V.a,{exact:!0,path:"/",render:function(t){return i.a.createElement(T,{setMenuCode:e.setMenuCode,content:"hello, this is default page"})}}),i.a.createElement(V.a,{exact:!0,path:"/home",render:function(t){return i.a.createElement(T,{setMenuCode:e.setMenuCode,content:"hello, this is home page"})}}),i.a.createElement(V.a,{exact:!0,path:"/chatroom",render:function(t){return i.a.createElement(je,{app:e,setMenuCode:e.setMenuCode})}}),i.a.createElement(V.a,{exact:!0,path:"/about",render:function(t){return i.a.createElement(K,{setMenuCode:e.setMenuCode})}}),i.a.createElement(V.a,{exact:!0,path:"/login",render:function(e){return n}}),i.a.createElement(V.a,{exact:!0,path:"/dashboard",render:function(t){return i.a.createElement(Ce,{app:e,loginStatus:e.props.loginStatus,setMenuCode:e.setMenuCode})}}),i.a.createElement(V.a,{exact:!0,path:"/management",render:function(t){return i.a.createElement(Fe,{app:e,loginStatus:e.props.loginStatus,setMenuCode:e.setMenuCode})}})))),i.a.createElement(we.a,{url:(1==D()?Ue:Be)+"/realtime-app",topics:["/wsResp/progress"],onMessage:function(t){e.handleMessage(t)},ref:function(t){e.clientRef=t}}),i.a.createElement(Se,null))}}]),t}(a.Component),Ve=Object(V.f)(Object(z.b)((function(e){return{entities:e.shopState.entities,loginStatus:e.userState.loginStatus,loginKey:e.userState.loginStatus,loginFailed:e.userState.loginFailed,menus:e.userState.menus,loggedUser:e.userState.loggedUser,loginAttempt:e.userState.loginAttempt,requestId:e.userState.requestId,division:e.userState.division,cart:e.shopState.cart}}),(function(e){return{performLogin:function(t,n,a){return e(function(e,t,n){return n.startLoading(),{type:"do_login",payload:{user:{username:e,password:t}},meta:{type:"do_login",url:W().concat("login"),app:n}}}(t,n,a))},performLogout:function(t){return e(function(e){return e.startLoading(),{type:"do_logout",payload:{},meta:{app:e,type:"do_logout",url:W().concat("logout")}}}(t))},requestAppId:function(t){return e(function(e){return e.startLoading(),{type:"req_ID",payload:{},meta:{app:e,type:"req_ID",url:(Y()+"public/").concat("generateappid")}}}(t))},refreshLogin:function(t){return e(function(e){return{type:"refresh_login",payload:{loginStatus:e},meta:{type:"refresh_login"}}}(t))}}}))(Ke)),Re=n(211),qe=n(76),Ye={catalogData:{},entities:[],entity:{},categories:[],suppliersData:[],messages:null,userAlias:"anonymous_"+(new Date).getTime(),cart:[]},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"remove_shop_entity":return Object(m.a)({},e,{entity:t.payload});case"send_message":return Object(m.a)({},e,{messages:t.payload.entities,userAlias:t.payload.username});case"store_message":case"GET_MESSAGE":return Object(m.a)({},e,{messages:t.payload.entities});default:return e}},We=[{code:"home",name:"Home",url:"home",active:!1,authenticated:!1},{code:"catalog",name:"Catalog",url:"catalog",active:!1,authenticated:!1},{code:"about",name:"About",url:"about",active:!1,authenticated:!1},{code:"chatroom",name:"Chat Room",url:"chatroom",active:!1,authenticated:!1},{code:"login",name:"Login",url:"login",active:!1,authenticated:!1},{code:"dashboard",name:"Dashboard",url:"dashboard",active:!1,authenticated:!0},{code:"management",name:"Management",url:"management",active:!1,authenticated:!0},{code:"logout",name:"Logout",url:"#",active:!1,authenticated:!0}],Je={loginKey:null,loginStatus:!1,loginFailed:!1,menus:We,loggedUser:null,loginAttempt:!1,divisions:null,division:null,requestId:null},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0,n=new Array;if(t.payload)for(var a=t.payload&&1==t.payload.loginStatus,i=0;i<We.length;i++){var o=We[i];a&&"login"==o.code||(0==o.authenticated?n.push(o):a&&n.push(o))}switch(t.type){case"do_login":var r=Object(m.a)({},e,{loginAttempt:!0,loginStatus:t.payload.loginStatus,loginKey:t.payload.loginKey,loginFailed:0==t.payload.loginStatus,menus:n,loggedUser:t.payload.loggedUser});return 1==r.loginStatus&&(localStorage.setItem("loginKey",r.loginKey),localStorage.setItem("loggedUser",JSON.stringify(r.loggedUser)),r.divisions=t.payload.divisions),r;case"req_ID":return r=Object(m.a)({},e,{requestId:t.payload.message}),1!=t.payload.loggedIn?(r.loginStatus=!1,r.loggedUser=null):t.payload.sessionData&&(r.division=t.payload.sessionData.division,r.loggedUser=t.payload.sessionData.user,r.loginStatus=t.payload.loggedIn),console.log("o o o result.loginStatus:",r.loginStatus),r;case"do_logout":return r=Object(m.a)({},e,{loginStatus:t.payload.loginStatus,menus:n,division:null,loggedUser:null}),localStorage.removeItem("loginKey"),localStorage.removeItem("loggedUser"),r;case"refresh_login":return r=Object(m.a)({},e,{loginStatus:t.payload.loginStatus,menus:n,loggedUser:t.payload.loggedUser});case"GET_DIVISIONS":return r=1!=t.payload.invalidSession?Object(m.a)({},e,{divisions:t.payload.divisions}):Object(m.a)({},e,{divisions:[],loggedUser:null,loginStatus:!1});case"SET_DIVISION":return r=Object(m.a)({},e,{division:t.payload.entity});default:return t.payload&&null!=t.payload.loginStatus?Object(m.a)({},e,{menus:n}):Object(m.a)({},e)}},ze=(n(577),{productFlowStock:null,productFlowStocks:null,transactionData:null,successTransaction:!1,customersData:null,productsData:null,cashflowInfoOut:null,cashflowInfoIn:null,cashflowDetail:null,productSalesData:null,productSalesDetails:null,transactionYears:[(new Date).getFullYear(),(new Date).getFullYear()]}),Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;return null!=t&&null!=t.payload&&null!=t.payload.transactionYears&&(e.transactionYears=t.payload.transactionYears),t.type,Object(m.a)({},e)},$e={entitiesData:{entityConfig:null},managedEntity:null,events:[],addNew:!1},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"get_entity":return Object(m.a)({},e,{entitiesData:t.payload});case"get_entity_by_id":return Object(m.a)({},e,{addNew:!1,managedEntity:t.payload.entities[0]});case"update_entity":return e;case"rm_mng_entity":return Object(m.a)({},e,{addNew:!1,managedEntity:null});case"GET_EVENTS_BY_DATE":if(t.payload.entities)return Object(m.a)({},e,{events:t.payload.entities});case"add_event_from_timeline":var n={entityConfig:fe};return console.log("EVENTS DATA: ",n),Object(m.a)({},e,{addNew:!0,managedEntity:t.payload.entity,entitiesData:n});case"reset_management_page":return $e;case"set-entity-config":var a=e.entitiesData;return a.entityConfig=t.payload.entityConfig,a.entities=[],Object(m.a)({},e,{entitiesData:a});default:return e}},Xe=Object(qe.c)({shopState:Ge,userState:He,transactionState:Ze,managementState:Qe}),et={shopState:Ye,userState:Je,transactionState:ze,managementState:$e},tt=function(){return{"Content-Type":"application/json",requestId:localStorage.getItem("requestId")}};function nt(e,t){return new Promise((function(n,a){setTimeout((function(){a(new Error("timeout"))}),e),t.then(n,a)}))}var at=function(e){return function(t){return function(n){if(!n.meta||"GET_ENTITY_WITH_CALLBACK"!==n.meta.type)return t(n);nt(1e5,fetch(n.meta.url,{method:"POST",body:JSON.stringify(n.payload),headers:tt()})).then((function(e){return e.json()})).then((function(t){if(null!=(t=t).entities&&0!=t.entities.length){n.meta.callback(t,n.meta.referer);var a=Object.assign({},n,{payload:t});delete a.meta,e.dispatch(a)}else alert("Data not found!")})).catch((function(e){return console.log(e)})).finally((function(e){return n.meta.app.endLoading()}))}}},it=function(e){return function(t){return function(n){if(!n.meta||"update_entity"!==n.meta.type)return t(n);nt(1e5,fetch(n.meta.url,{method:"POST",body:JSON.stringify(n.payload),headers:tt()})).then((function(e){return e.json()})).then((function(t){if(t=t,console.debug("Response updateEntityMiddleware:",t),"00"==t.code){alert("Update Success!");var a=n.meta.callback,i=n.meta.referer,o=Object.assign({},n,{payload:t});delete o.meta,e.dispatch(o),a(i)}else alert("Error Update Entity!")})).catch((function(e){return console.log(e)})).finally((function(e){return n.meta.app.endLoading()}))}}},ot=function(e){return function(t){return function(n){if(!n.meta||"get_entity_by_id"!==n.meta.type)return t(n);nt(1e5,fetch(n.meta.url,{method:"POST",body:JSON.stringify(n.payload),headers:tt()})).then((function(e){return e.json()})).then((function(t){if(t=t,console.debug("Response:",t),null!=t.entities&&0!=t.entities.length){var a=Object.assign({},n,{payload:t});delete a.meta,e.dispatch(a)}else alert("Data not found!")})).catch((function(e){return console.log(e)})).finally((function(e){return n.meta.app.endLoading()}))}}},rt=function(e){return function(t){return function(n){if(!n.meta||"get_entity"!==n.meta.type)return t(n);nt(1e5,fetch(n.meta.url,{method:"POST",body:JSON.stringify(n.payload),headers:tt()})).then((function(e){return e.json()})).then((function(t){if("00"==(t=t).code){console.debug("Response:",t),null!=t.entities&&0!=t.entities.length||(t.entities=[]),t.entityConfig=n.meta.entityConfig;var a=Object.assign({},n,{payload:t});delete a.meta,e.dispatch(a)}else alert("error requesting: "+t.message)})).catch((function(e){return console.log(e)})).finally((function(e){return n.meta.app.endLoading()}))}}},st=function(e){return function(t){return function(n){if(!n.meta||"GET_MESSAGE"!==n.meta.type)return t(n);nt(1e5,fetch(n.meta.url,{method:"POST",body:JSON.stringify(n.payload),headers:{"Content-Type":"application/json",requestId:localStorage.getItem("requestId")}})).then((function(e){return e.json()})).then((function(t){console.debug("sendChatMessageMiddleware Response:",t);var a=Object.assign({},n,{payload:t});delete a.meta,e.dispatch(a)})).catch((function(e){return console.log(e)})).finally((function(e){return n.meta.app.endLoading()}))}}},lt=function(e){return function(t){return function(n){if(!n.meta||"send_message"!==n.meta.type)return t(n);nt(1e5,fetch(n.meta.url,{method:"POST",body:JSON.stringify(n.payload),headers:{"Content-Type":"application/json",requestId:localStorage.getItem("requestId")}})).then((function(e){return e.json()})).then((function(t){console.debug("sendChatMessageMiddleware Response:",t),t.username=n.payload.username;var a=Object.assign({},n,{payload:t});delete a.meta,e.dispatch(a)})).catch((function(e){return console.log(e)})).finally((function(e){return n.meta.app.endLoading()}))}}},ut=function(e){return function(t){return function(n){if(!n.meta||"add_event_from_timeline"!==n.meta.type)return t(n);var a,i,o,r={date:(a=n.payload.day,i=n.payload.month,o=n.payload.year,o+"-"+(+i<10?"0"+i:i)+"-"+(+a<10?"0"+a:a))},s=Object.assign({},n,{payload:{entity:r}});delete s.meta,e.dispatch(s)}}},ct=function(e){return function(t){return function(n){if(!n.meta||"set-entity-config"!==n.meta.type)return t(n);var a=Object.assign({},n,{payload:{entityConfig:n.payload.entityConfig}});delete a.meta,e.dispatch(a)}}},pt=function(e){return function(t){return function(n){if(!n.meta||"store_message"!==n.meta.type)return t(n);var a=Object.assign({},n,{payload:n.payload});delete a.meta,e.dispatch(a)}}},dt=function(e){return function(t){return function(n){if(!n.meta||"rm_mng_entity"!==n.meta.type)return t(n);var a=Object.assign({},n,{payload:n.payload});delete a.meta,e.dispatch(a)}}},mt=function(e){return function(t){return function(n){if(!n.meta||"reset_management_page"!==n.meta.type)return t(n);var a=Object.assign({},n,{payload:n.payload});delete a.meta,e.dispatch(a)}}},ht=function(e){return function(t){return function(n){if(!n.meta||"req_ID"!==n.meta.type)return t(n);var a=tt();nt(1e5,fetch(n.meta.url,{method:"POST",body:JSON.stringify(n.payload),headers:a})).then((function(e){return e.json()})).then((function(t){if(console.debug(D(),"requestAppIdMiddleware Response:",t),"00"==t.code){t.referer=n.meta.app;var a=Object.assign({},n,{payload:t});delete a.meta,e.dispatch(a)}else alert("Error requesting app ID")})).catch((function(e){return console.error(e)})).finally((function(e){return n.meta.app.endLoading()}))}}},gt=function(e){return function(t){return function(n){if(!n.meta||"GET_EVENTS_BY_DATE"!==n.meta.type)return t(n);nt(1e5,fetch(n.meta.url,{method:"POST",body:JSON.stringify(n.payload),headers:{"Content-Type":"application/json",requestId:localStorage.getItem("requestId"),loginKey:localStorage.getItem("loginKey")}})).then((function(e){return e.json()})).then((function(t){if("00"==(t=t).code){var a=Object.assign({},n,{payload:t});delete a.meta,e.dispatch(a)}else alert("Server error")})).catch((function(e){return console.log(e)})).finally((function(e){return n.meta.app.endLoading()}))}}},ft=function(e){return function(t){return function(n){if(!n.meta||"SET_DIVISION"!==n.meta.type)return t(n);nt(1e5,fetch(n.meta.url,{method:"POST",body:JSON.stringify(n.payload),headers:{"Content-Type":"application/json",requestId:localStorage.getItem("requestId"),loginKey:localStorage.getItem("loginKey")}})).then((function(e){return e.json()})).then((function(t){if(t=t,console.debug("selectDivisionMiddleware Response:",t),"00"==t.code){var a=Object.assign({},n,{payload:t});delete a.meta,e.dispatch(a)}else alert("Server error")})).catch((function(e){return console.log(e)})).finally((function(e){return n.meta.app.endLoading()}))}}},yt=function(e){return function(t){return function(n){if(!n.meta||"GET_DIVISIONS"!==n.meta.type)return t(n);nt(1e5,fetch(n.meta.url,{method:"POST",body:JSON.stringify(n.payload),headers:{"Content-Type":"application/json",requestId:localStorage.getItem("requestId"),loginKey:localStorage.getItem("loginKey")}})).then((function(e){return e.json()})).then((function(t){if(t=t,console.debug("getDivisionsMiddleware Response:",t),"00"!=t.code){if(alert(t.message),"02"!=t.code)return null==t.divisions?void alert("Server Error"):void 0;t.invalidSession=!0}var a=Object.assign({},n,{payload:t});delete a.meta,e.dispatch(a)})).catch((function(e){return console.log(e)})).finally((function(e){return n.meta.app.endLoading()}))}}},vt=function(e){return function(t){return function(n){if(!n.meta||"do_logout"!==n.meta.type)return t(n);var a=n.meta.app;nt(1e5,fetch(n.meta.url,{method:"POST",body:JSON.stringify(n.payload),headers:{"Content-Type":"application/json",requestId:localStorage.getItem("requestId"),loginKey:localStorage.getItem("loginKey")}})).then((function(e){return Promise.all([e.json(),e])})).then((function(t){var a=Object(Re.a)(t,2),i=a[0],o=(a[1],!1);"00"==(i=i).code&&(o=!0);var r=Object.assign({},n,{payload:{loginStatus:!o}});delete r.meta,e.dispatch(r)})).catch((function(e){console.log(e)})).finally((function(e){return a.endLoading()}))}}},bt=function(e){return function(t){return function(n){if(!n.meta||"do_login"!==n.meta.type)return t(n);var a=n.meta.app;nt(1e5,fetch(n.meta.url,{method:"POST",body:JSON.stringify(n.payload),headers:tt()})).then((function(e){return Promise.all([e.json(),e])})).then((function(t){var a=Object(Re.a)(t,2),i=a[0],o=a[1],r="",s=!1;if(null!=(i=i).code&&"00"==i.code){var l=!0,u=!1,c=void 0;try{for(var p,d=o.headers.entries()[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var m=p.value;if("loginkey"==m[0]){r=m[1];break}}}catch(g){u=!0,c=g}finally{try{l||null==d.return||d.return()}finally{if(u)throw c}}s=!0}console.log("LOGIN SUCCESS: ",s);var h=Object.assign({},n,{payload:{loginStatus:s,loginKey:r,loggedUser:i.user,divisions:i.divisions,division:i.sessionData?i.sessionData.division:null}});delete h.meta,e.dispatch(h)})).catch((function(e){console.log(e)})).finally((function(e){return a.endLoading()}))}}},Et=function(e){return function(t){return function(n){if(!n.meta||"refresh_login"!==n.meta.type)return t(n);var a=null;localStorage.getItem("loggedUser")&&(a=localStorage.getItem("loggedUser"));var i=Object.assign({},n,{payload:{loginStatus:n.payload.loginStatus,loginKey:localStorage.getItem("loginKey"),loggedUser:JSON.parse(a)}});delete i.meta,e.dispatch(i)}}},Dt=function(e){return function(t){return function(n){if(!n.meta||"remove_shop_entity"!==n.meta.type)return t(n);var a=Object.assign({},n,{payload:null});delete a.meta,e.dispatch(a)}}},Ct=function(){return Object(qe.d)(Xe,et,Object(qe.a)(Dt,bt,vt,Et,yt,ft,gt,ht,pt,st,lt,rt,ot,it,dt,ut,mt,ct,at))},St=function(e){var t=Ct();return i.a.createElement(z.a,{store:t},i.a.createElement(S.a,null,i.a.createElement(Ve,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(St,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[489,1,2]]]);
//# sourceMappingURL=main.ee642736.chunk.js.map